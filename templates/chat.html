<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat with GPT-2</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  #messages li {
    margin-bottom: 20px; /* More space between threads */
  }
  .btn-primary {
    width: 100%; /* Wider button */
    height: 50px; /* Increase height */
  }
</style>
</head>
<body>
<div class="container">
  <div class="row mt-5">
    <div class="col-md-6 offset-md-3 text-center">
        <h3 class="mb-4">GPT-2 Pre-Trained</h3>
        <ul id="messages" class="list-unstyled"></ul>
        <form id="form" action="/get_response" method="post">
          <div class="mb-3">
            <input type="text" 
            class="form-control" 
            id="text" name="text" placeholder="Say something..." 
            required>
          </div>
          <div id="spinner" style="display:none; padding: 10px">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>

          <button type="submit" class="btn btn-primary" id="sendButton">Send</button>
          
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    $('#form').on('submit', function(e) {
        e.preventDefault();
        var text = $('#text').val();
        $('#sendButton').prop('disabled', true); // Disable the button
        $('#spinner').show(); // Show spinner
        $.post('/get_response', {text: text}, function(data) {
            $('#messages').append('<li><strong>You:</strong> ' + text + '<br><strong>AI:</strong> ' + data.message + '</li>');
            $('#text').val('');
            $('#sendButton').prop('disabled', false); // Enable the button
            $('#spinner').hide(); // Hide spinner
        });
    });
});
</script>
</body>
</html>
